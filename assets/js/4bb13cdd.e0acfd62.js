"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[812],{452:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var s=t(4848),a=t(8453);const i={description:"Information about the data types used in Chainless functions.",slug:"/data-models",sidebar_position:3},o="Data Models",c={id:"data-models/index",title:"Data Models",description:"Information about the data types used in Chainless functions.",source:"@site/docs/data-models/index.md",sourceDirName:"data-models",slug:"/data-models",permalink:"/chainless/docs/data-models",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"Information about the data types used in Chainless functions.",slug:"/data-models",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Scala",permalink:"/chainless/docs/persistent-functions/jvm/scala"},next:{title:"Temporary Functions",permalink:"/chainless/docs/temporary-functions"}},r={},l=[{value:"Function State",id:"function-state",level:2},{value:"Block With Metadata",id:"block-with-metadata",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"data-models",children:"Data Models"}),"\n",(0,s.jsxs)(n.p,{children:["A Chainless function generally has two parameters: the ",(0,s.jsx)(n.strong,{children:"function's state"})," and a ",(0,s.jsx)(n.strong,{children:"block with metadata"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"function-state",children:"Function State"}),"\n",(0,s.jsx)(n.p,{children:"Captures the current state of the function, including some metadata about the blocks that have been applied."}),"\n",(0,s.jsx)(n.p,{children:"It is structured like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "chainStates": {\n    "<chain name>": "<last applied block ID>"\n  },\n  "state": {\n    "myFunctionData": 37\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"chainStates"})," field is an object where the keys are blockchain names and the values are the respective block ID that was last applied.  The chain names are:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bitcoin"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ethereum"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"state"})," field is specific to your function.  It can contain any JSON information that is necessary for your function to run and operate."]}),"\n",(0,s.jsx)(n.h2,{id:"block-with-metadata",children:"Block With Metadata"}),"\n",(0,s.jsxs)(n.p,{children:["Different blockchains have different formats for their blocks and transactions.  Chainless captures specific metadata fields to provide uniform indices and views of the data.  The raw block data in the original format of the blockchain is also provided.  The ",(0,s.jsx)(n.code,{children:"BlockWithMeta"})," object is structured like:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "meta": {\n    "chain": "<chain name>", // "bitcoin" or "ethereum"\n    "blockId": "<block ID>",\n    "parentBlockId": "<parent block ID>",\n    "height": 35,\n    "timestampMs": 1709345437671\n  },\n  "block": {\n    // Blockchain-specific\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["See ",(0,s.jsx)(n.a,{href:"https://developer.bitcoin.org/reference/rpc/getblock.html#result-for-verbosity-2",children:"Bitcoin block schema"})]}),"\n",(0,s.jsxs)(n.li,{children:["See ",(0,s.jsx)(n.a,{href:"https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getblockbyhash",children:"Ethereum block schema"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(6540);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);